!function(){function t(t,e,i,s){var o={};return function(t,e,i){function s(t,i){this.options=i=e.extend({},this.defaultOpt,i),this.el=e(t).eq(0),this.autoPlay=i.autoPlay,this.hasIndicator=i.indicator,this.callBack=i.callBack,this.currentIndex=null,this._init(),this.play()}s.prototype={defaultOpt:{index:null,autoPlay:!1,duration:3e3,indicator:!1,indicatorPosition:"center",callBack:null},_init:function(){var t=e(">.ipu-carousel-wrapper",this.el),s=e(">li",t);if(this.carouselItems=s,this.size=s.size(),that=this,null==this.options.index){var o=s.filter(".ipu-current").index();this.options.index=o!=-1?o:0}this.hasIndicator&&this._addIndicator(),e(window).resize(function(){that.refresh()});var n={snap:"li",momentum:!1,scrollX:!0,scrollY:!1,hScrollbar:!1,onScrollStart:function(){that._pause()},onTouchEnd:function(){},onScrollEnd:function(){that._end()}};this.iscroll=new i(this.el.get(0),n),this.show(this.options.index,0)},stop:function(){this._pause(),this.autoPlay=!1},_pause:function(){this.autoPlay&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},prev:function(){var t=0==this.currentIndex?this.size-1:this.currentIndex-1;this.show(t)},next:function(){var t=this.currentIndex==this.size-1?0:this.currentIndex+1;this.show(t)},show:function(t,e){this._pause(),this.iscroll.scrollToPage(t,0,e)},play:function(){this.autoPlay=!0,this._play()},refresh:function(){var t=this;t.show(this.currentIndex)},_play:function(){if(this.autoPlay&&!this.timeoutId){var t=this;this.timeoutId=setTimeout(function(){this.timeoutId=null,t.next()},t.options.duration)}},_end:function(){var t=this.iscroll.currPageX;t!=this.currentIndex&&(this.callBack&&this.callBack(t,this.currentIndex),this.currentIndex=t,this.hasIndicator&&this.indicatorIndexs.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this.carouselItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current")),this._play()},_addIndicator:function(){for(var t="",i=0;i<this.size;i++)t+="<li></li>";t="<ul class='ipu-carousel-indicator'>"+t+"</ul>",this.indicator=e(t).appendTo(this.el),this.indicatorIndexs=e("li",this.indicator)},destroy:function(){this.iscroll.destroy()}},t.carousel=function(t,e){return new s(t,e)}}(o||window,t,e),function(t,e){function i(i){this.options=e.extend({},this.defaultOptions,i),s||(s=t.Picker),this._init()}var s=t.Picker,o=new Date;i.prototype.defaultOptions={template:'<div class="ipu-poppicker ipu-dtpicker">                        <div class="ipu-poppicker-header">                            <button class="ipu-btn ipu-btn-s ipu-poppicker-btn-cancel">取消</button>                            <button class="ipu-btn ipu-btn-s ipu-poppicker-btn-ok">确定</button>                            <button class="ipu-btn ipu-btn-s ipu-poppicker-btn-clear">清除</button>                        </div>                        <div class="ipu-poppicker-title">                            <label class="ipu-dtpicker-y"></label>                            <label class="ipu-dtpicker-m"></label>                            <label class="ipu-dtpicker-d"></label>                            <label class="ipu-dtpicker-h"></label>                            <label class="ipu-dtpicker-mi"></label>                        </div>                        <div>                        <div class="ipu-poppicker-body">                            <div class="ipu-picker" data-id="picker-y">                                <div class="ipu-picker-selectbox"></div>                                <ul></ul>                            </div>                             <div class="ipu-picker" data-id="picker-m">                                <div class="ipu-picker-selectbox"></div>                                <ul></ul>                            </div>                             <div class="ipu-picker" data-id="picker-d">                                <div class="ipu-picker-selectbox"></div>                                <ul></ul>                            </div>                             <div class="ipu-picker" data-id="picker-h">                                <div class="ipu-picker-selectbox"></div>                                <ul></ul>                            </div>                             <div class="ipu-picker" data-id="picker-mi">                                <div class="ipu-picker-selectbox"></div>                                <ul></ul>                            </div>                        </div>                    </div>',buttons:["取消","确认","清除"],labels:["年","月","日","时","分"],type:"datetime",customData:{},hasClear:!1,callBack:function(){}},i.prototype._init=function(){var t=this;this.mask=this.createMask();var i=this.holder=e(this.options.template).appendTo("body"),o=t.ui={picker:this.holder,ok:e(".ipu-poppicker-btn-ok",i),cancel:e(".ipu-poppicker-btn-cancel",i),clear:e(".ipu-poppicker-btn-clear",i),buttons:e(".ipu-poppicker-header .ipu-btn",i),labels:e(".ipu-poppicker-title label",i)};o.i=new s(e('[data-id="picker-mi"]',i),{listen:!1}),o.h=new s(e('[data-id="picker-h"]',i),{listen:!1,onChange:function(e,i){null!==i&&(t.options.beginMonth||t.options.endMonth)&&t._createMinutes()}}),o.d=new s(e('[data-id="picker-d"]',i),{listen:!1,onChange:function(e,i){null!==i&&(t.options.beginMonth||t.options.endMonth)&&t._createHours()}}),o.m=new s(e('[data-id="picker-m"]',i),{listen:!1,onChange:function(e,i){null!==i&&t._createDay()}}),o.y=new s(e('[data-id="picker-y"]',i),{listen:!1,onChange:function(e,i){null!=i&&(t.options.beginMonth||t.options.endMonth?t._createMonth():t._createDay())}}),t._create();var o=t.ui;t._setLabels(),t._setButtons(),o.picker.attr("data-type",this.options.type),t._setSelectedValue(this.options.value)},i.prototype.getSelected=function(){var t=this,e=t.ui,i=t.options.type,s={type:i,y:e.y.getSelectedItem(),m:e.m.getSelectedItem(),d:e.d.getSelectedItem(),h:e.h.getSelectedItem(),i:e.i.getSelectedItem(),toString:function(){return this.value}};switch(i){case"datetime":s.value=s.y.value+"-"+s.m.value+"-"+s.d.value+" "+s.h.value+":"+s.i.value,s.text=s.y.text+"-"+s.m.text+"-"+s.d.text+" "+s.h.text+":"+s.i.text;break;case"date":s.value=s.y.value+"-"+s.m.value+"-"+s.d.value,s.text=s.y.text+"-"+s.m.text+"-"+s.d.text;break;case"time":s.value=s.h.value+":"+s.i.value,s.text=s.h.text+":"+s.i.text;break;case"month":s.value=s.y.value+"-"+s.m.value,s.text=s.y.text+"-"+s.m.text;break;case"hour":s.value=s.y.value+"-"+s.m.value+"-"+s.d.value+" "+s.h.value,s.text=s.y.text+"-"+s.m.text+"-"+s.d.text+" "+s.h.text}return s},i.prototype._setSelectedValue=function(t){var e=this,i=e.ui;t||(t="time"==this.options.type?"00:00":o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" "+o.getHours()+":"+o.getMinutes());var s=e._parseSetValue(t);i.y.setListen(!0),i.m.setListen(!1),i.d.setListen(!1),i.h.setListen(!1),i.i.setListen(!1),i.y.setSelectedValue(s.y),i.m.setListen(!0),i.m.setSelectedValue(s.m),i.d.setListen(!0),i.d.setSelectedValue(s.d),i.h.setListen(!0),i.h.setSelectedValue(s.h),i.i.setListen(!0),i.i.setSelectedValue(s.i),this.value=this.getSelected().value},i.prototype.setSelectedValue=function(t){this._setSelectedValue(t)},i.prototype.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},i.prototype._inArray=function(t,e){for(var i in t){var s=t[i];if(s===e)return!0}return!1},i.prototype.getDayNum=function(t,e){var i=this;return i._inArray([1,3,5,7,8,10,12],e)?31:i._inArray([4,6,9,11],e)?30:i.isLeapYear(t)?29:28},i.prototype._fill=function(t){return t=t.toString(),t.length<2&&(t=0+t),t},i.prototype._isBeginYear=function(){return this.options.beginYear===parseInt(this.ui.y.getSelectedValue())},i.prototype._isBeginMonth=function(){return this.options.beginMonth&&this._isBeginYear()&&this.options.beginMonth===parseInt(this.ui.m.getSelectedValue())},i.prototype._isBeginDay=function(){return this._isBeginMonth()&&this.options.beginDay===parseInt(this.ui.d.getSelectedValue())},i.prototype._isBeginHours=function(){return this._isBeginDay()&&this.options.beginHours===parseInt(this.ui.h.getSelectedValue())},i.prototype._isEndYear=function(){return this.options.endYear===parseInt(this.ui.y.getSelectedValue())},i.prototype._isEndMonth=function(){return this.options.endMonth&&this._isEndYear()&&this.options.endMonth===parseInt(this.ui.m.getSelectedValue())},i.prototype._isEndDay=function(){return this._isEndMonth()&&this.options.endDay===parseInt(this.ui.d.getSelectedValue())},i.prototype._isEndHours=function(){return this._isEndDay()&&this.options.endHours===parseInt(this.ui.h.getSelectedValue())},i.prototype._createYear=function(t){var e=this,i=e.options,s=e.ui,o=[];if(i.customData.y)o=i.customData.y;else for(var n=i.beginYear,a=i.endYear,r=n;r<=a;r++)o.push({text:r+"",value:r});s.y.setItems(o)},i.prototype._createMonth=function(t){var e=this,i=e.options,s=e.ui,o=[];if(i.customData.m)o=i.customData.m;else for(var n=i.beginMonth&&e._isBeginYear()?i.beginMonth:1,a=i.endMonth&&e._isEndYear()?i.endMonth:12;n<=a;n++){var r=e._fill(n);o.push({text:r,value:n})}s.m.setItems(o)},i.prototype._createDay=function(t){var e=this,i=e.options,s=e.ui,o=[];if(i.customData.d)o=i.customData.d;else for(var n=e._isBeginMonth()?i.beginDay:1,a=e._isEndMonth()?i.endDay:e.getDayNum(parseInt(this.ui.y.getSelectedValue()),parseInt(this.ui.m.getSelectedValue()));n<=a;n++){var r=e._fill(n);o.push({text:r,value:n})}s.d.setItems(o)},i.prototype._createHours=function(t){var e=this,i=e.options,s=e.ui,o=[];if(i.customData.h)o=i.customData.h;else for(var n=e._isBeginDay()?i.beginHours:0,a=e._isEndDay()?i.endHours:23;n<=a;n++){var r=e._fill(n);o.push({text:r,value:n})}s.h.setItems(o)},i.prototype._createMinutes=function(t){var e=this,i=e.options,s=e.ui,o=[];if(i.customData.i)o=i.customData.i;else for(var n=e._isBeginHours()?i.beginMinutes:0,a=e._isEndHours()?i.endMinutes:59;n<=a;n++){var r=e._fill(n);o.push({text:r,value:n})}s.i.setItems(o)},i.prototype._setLabels=function(){var t=this,e=t.options,i=t.ui;i.labels.each(function(t,i){i.innerText=e.labels[t]})},i.prototype._setButtons=function(){var t=this,i=t.options,s=t.ui;s.cancel.text(i.buttons[0]),s.ok.text(i.buttons[1]),i.hasClear?s.clear.text(i.buttons[2]):s.clear.hide(),s.buttons.each(function(i){e(this).click(function(){t.clickCall(i)})})},i.prototype._parseSetValue=function(t){var e=o,i=this.options.type,s={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),i:e.getMinutes()};t instanceof Date&&("time"==i?valu=+t.getHours()+":"+t.getMinutes():t=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes());for(var n=t.replace(":","-").replace(" ","-").split("-"),a=0,r=n.length;a<r;a++)n[a]=parseInt(n[a]);return"datetime"==i?(s.y=n[0],s.m=n[1],s.d=n[2],s.h=n[3],s.i=n[4]):"date"==i?(s.y=n[0],s.m=n[1],s.d=n[2],s.h=0,s.i=0):"time"==i?(s.h=n[0],s.i=n[1]):"hour"==i?(s.y=n[0],s.m=n[1],s.d=n[2],s.h=n[3],s.i=0):"month"==i&&(s.y=n[0],s.m=n[1],s.d=1,s.h=0,s.i=0),s},i.prototype._create=function(){var t=this,e=this.options,i=o,s=e.beginDate;s?(s=this._parseSetValue(s),e.beginYear=s.y,e.beginMonth=s.m,e.beginDay=s.d,e.beginHours=s.h,e.beginMinutes=s.i):"time"==e.type?(e.beginYear=i.getFullYear(),e.beginMonth=i.getMonth()+1,e.beginDay=i.getDate(),e.beginHours=0,e.beginMinutes=0):e.beginYear=i.getFullYear()-5;var n=e.endDate;n?(n=this._parseSetValue(n),e.endYear=n.y,e.endMonth=n.m,e.endDay=n.d,e.endHours=n.h,e.endMinutes=n.i):"time"==e.type?(e.endYear=i.getFullYear(),e.endMonth=i.getMonth()+1,e.endDay=i.getDate(),e.endHours=24,e.endMinutes=59):e.endYear=e.beginYear+10,t._createYear(),t._createMonth(),t._createDay(),t._createHours(),t._createMinutes()},i.prototype.setBeginDate=function(t){this.options.beginDate=t,this._create()},i.prototype.setEndDate=function(t){this.options.endDate=t,this._create()},i.prototype.dispose=function(){var t=this;t.hide(),setTimeout(function(){t.ui.picker.parentNode.removeChild(t.ui.picker);for(var e in t)t[e]=null,delete t[e];t.disposed=!0},300)},i.prototype.show=function(t){t&&(this.options.callBack=t),this.mask.show(),this.setSelectedValue(this.value),this.holder.addClass("ipu-current")},i.prototype.clickCall=function(t){var e=this,i=e.getSelected(),s=e.options.callBack.call(this,i,t);s!==!1&&(1==t?e.value=i.value:2==t&&(e.value=null),e.hide())},i.prototype.hide=function(){this.mask.close(),this.holder.removeClass("ipu-current")},i.prototype.createMask=function(t){var e=this,i=document.createElement("div");i.classList.add("ipu-picker-backup"),i.addEventListener("click",function(){e.clickCall(0)});var s=[i];return s._show=!1,s.show=function(){return s._show=!0,i.setAttribute("style","opacity:1"),document.body.appendChild(i),s},s._remove=function(){return s._show&&(s._show=!1,i.setAttribute("style","opacity:0"),setTimeout(function(){var t=document.body;i.parentNode===t&&t.removeChild(i)},350)),s},s.close=function(){s._show&&(t?t()!==!1&&s._remove():s._remove())},s},t.dtPicker=function(t){return new i(t)}}(o||window,t),function(t,e,i){function s(t,i){this.options=i=e.extend({},this.defaultOptions,i),this.el=e(t).get(0),this._init()}s.prototype={defaultOptions:{index:null,autoPlay:!1,duration:3e3,indicator:!1,callBack:null,clickBack:null},_init:function(){this.wrapper=e(">.ipu-carousel-wrapper",this.el),this.carouselItems=e(">li",this.wrapper),this.showSize=1,this.carouselItemSizes=[],this.currentIndex=0,this.moveLen=0,this.lastItem=!1,this.carouselItems.slice(0,this.showSize).clone().appendTo(this.wrapper),this.size=this.carouselItems.size();var t=this;this.options.clickBack&&e(">li",this.wrapper).each(function(i){e(this).click(function(){t.options.clickBack.call(this,i%t.size)})}),this.sizeCount();var s=this;if(this.hammer=new i.Manager(this.el),this.hammer.add(new i.Pan({direction:i.DIRECTION_HORIZONTAL,threshold:10})),this.hammer.on("panstart panmove panend pancancel",i.bindFn(this.onPan,this)),e(window).resize(function(){s.refresh()}),null==this.options.index){var o=this.carouselItems.filter(".ipu-current").index();this.options.index=o!=-1?o:0}this.options.indicator&&this._addIndicator(),this.show(this.options.index)},stop:function(){this._pause(),this.options.autoPlay=!1},_pause:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},prev:function(){var t=0==this.currentIndex?this.size-1:this.currentIndex-1;t==this.size-1&&(this._show(this.size,!1),this.wrapper.width()),this._show(t,!0)},next:function(){var t=this.currentIndex==this.size?1:this.currentIndex+1;1==t&&(this._show(0,!1),this.wrapper.width()),this._show(t,!0)},show:function(t){var t=t%size;t<0&&(t=size+t),this._show(t)},play:function(){this.options.autoPlay=!0,this._play()},_play:function(){if(this.options.autoPlay&&!this.timeoutId){var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.next()},t.options.duration)}},_end:function(){var t=this.currentIndex;this.options.callBack&&this.options.callBack(t,this.lastItem),this.indicator&&this.indicatorIndexs.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this.carouselItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this._play()},_addIndicator:function(){for(var t="",i=0;i<this.size;i++)t+="<li></li>";t="<ul class='ipu-carousel-indicator'>"+t+"</ul>",this.indicator=e(t).appendTo(this.el),this.indicatorIndexs=e("li",this.indicator)},sizeCount:function(){this.wrapperSize=this.wrapper.outerWidth(!0),this.itemSize=this.carouselItems.eq(0).outerWidth(!0),this.mostSize=this.size*this.itemSize,e(this.wrapper).removeClass("ipu-carousel-animate").width();var t=this;e(">li",this.wrapper).each(function(i,s){t.carouselItemSizes[i]=e(this).position().left})},refresh:function(){this.wrapperSize!=this.wrapper.outerWidth(!0)&&(this.sizeCount(),this._show(this.currentIndex,!0))},move:function(t){this._pause(),e(this.wrapper).removeClass("ipu-carousel-animate");var i=(this.moveLen-t)%this.mostSize;i=(i+this.mostSize)%this.mostSize,this.displayMoveLen=i,i=-i+"px",e(this.wrapper).css("transform","translate3d("+i+", 0, 0)")},_show:function(t,i){i!==!1&&(i=!0),this._pause(),e(this.wrapper).toggleClass("ipu-carousel-animate",i),this.currentIndex=t%this.size,this.lastItem=t==this.size;var s=this.carouselItemSizes[t];this.moveLen=s,s=-s+"px",e(this.wrapper).css("transform","translate3d("+s+", 0, 0)"),i&&this._end()},onPan:function(t){var e=t.deltaX;if("panend"==t.type||"pancancel"==t.type){var i=e/this.itemSize,s=parseInt(Math.abs(i)),o=Math.abs(i)%1;o>.2&&(s+=1),i>0&&(s=-s);var n=(this.currentIndex+s)%this.size;n=(n+this.size)%this.size,0==n&&this.displayMoveLen>this.itemSize&&(n=this.size),this._show(n)}else"panmove"==t.type&&this.move(e)}},t.hammerCarousel=function(t,e){return new s(t,e)}}(o||window,t,i),function(t,e){function i(t,e){function i(t){if(t.target===this)for(e.call(this,t),s=0;s<o.length;s++)n.off(o[s],i)}var s,o=t,n=this;if(e)for(s=0;s<o.length;s++)n.on(o[s],i)}function s(i){var s=e(this);s.attr("href");s.hasClass("ipu-modal-overlay")&&(e(".ipu-modal.ipu-modal-in").length>0&&n.modalCloseByOutside&&t.closeModal(".ipu-modal.ipu-modal-in"),e(".ipu-actions-modal.ipu-modal-in").length>0&&n.actionsCloseByOutside&&t.closeModal(".ipu-actions-modal.ipu-modal-in")),s.hasClass("ipu-popup-overlay")&&e(".ipu-popup.ipu-modal-in").length>0&&n.popupCloseByOutside&&t.closeModal(".ipu-popup.modal-in")}e.fn.transitionEnd=function(t){return i.call(this,["webkitTransitionEnd","transitionend"],t),this};var o=document.createElement("div"),n={modalStack:!0,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body?document.body:"body"};t.modalStack=[],t.modalStackClearQueue=function(){t.modalStack.length&&t.modalStack.shift()()},t.modal=function(i){i=i||{};var s="",a="";if(i.buttons&&i.buttons.length>0)for(var r=0;r<i.buttons.length;r++)a+='<span class="ipu-modal-button'+(i.buttons[r].bold?" ipu-modal-button-bold":"")+'">'+i.buttons[r].text+"</span>";var l=i.extraClass||"",u=i.title?'<div class="ipu-modal-title">'+i.title+"</div>":"",c=i.text?'<div class="ipu-modal-text">'+i.text+"</div>":"",d=i.afterText?i.afterText:"",h=i.buttons&&0!==i.buttons.length?"":"ipu-modal-no-buttons",p=i.verticalButtons?"ipu-modal-buttons-vertical":"";s='<div class="ipu-modal '+l+" "+h+'"><div class="ipu-modal-inner">'+(u+c+d)+'</div><div class="ipu-modal-buttons '+p+'">'+a+"</div></div>",o.innerHTML=s;var m=e(o).children();return e(n.modalContainer).append(m[0]),m.find(".ipu-modal-button").each(function(s,o){e(o).on("click",function(e){i.buttons[s].close!==!1&&t.closeModal(m),i.buttons[s].onClick&&i.buttons[s].onClick(m,e),i.onClick&&i.onClick(m,s)})}),t.openModal(m),m[0]},t.alert=function(e,i,s){return"function"==typeof i&&(s=arguments[1],i=void 0),t.modal({text:e||"",title:"undefined"==typeof i?n.modalTitle:i,buttons:[{text:n.modalButtonOk,bold:!0,onClick:s}]})},t.confirm=function(e,i,s,o){return"function"==typeof i&&(o=arguments[2],s=arguments[1],i=void 0),t.modal({text:e||"",title:"undefined"==typeof i?n.modalTitle:i,buttons:[{text:n.modalButtonCancel,omodalButtonCancelnClick:o},{text:n.modalButtonOk,bold:!0,onClick:s}]})},t.prompt=function(i,s,o,a){return"function"==typeof s&&(a=arguments[2],o=arguments[1],s=void 0),t.modal({text:i||"",title:"undefined"==typeof s?n.modalTitle:s,afterText:'<input type="text" class="ipu-modal-text-input">',buttons:[{text:n.modalButtonCancel},{text:n.modalButtonOk,bold:!0}],onClick:function(t,i){0===i&&a&&a(e(t).find(".ipu-modal-text-input").val()),1===i&&o&&o(e(t).find(".ipu-modal-text-input").val())}})};var a=!1,r=!1,l=!1,u=null;t.showPreloader=function(e,i){return t.hidePreloader(!0),t.showPreloader.preloaderModal=t.modal({title:e||n.modalPreloaderTitle,text:'<div class="ipu-preloader"></div>'}),i&&(a=!0,u=setTimeout(function(){r=!0,l&&t.hidePreloader()},i)),t.showPreloader.preloaderModal},t.hidePreloader=function(e){e||!a||a&&r?(e&&u&&window.clearTimeout(u),t.showPreloader.preloaderModal&&t.closeModal(t.showPreloader.preloaderModal),a=!1,r=!1,l=!1,u=null):l=!0},t.showIndicator=function(){e(".ipu-preloader-indicator-modal")[0]||e(n.modalContainer).append('<div class="ipu-preloader-indicator-overlay"></div><div class="ipu-preloader-indicator-modal"><span class="ipu-preloader ipu-preloader-white"></span></div>')},t.hideIndicator=function(){e(".ipu-preloader-indicator-overlay, .ipu-preloader-indicator-modal").remove()},t.actions=function(i){var s,a,r;i=i||[],i.length>0&&!e.isArray(i[0])&&(i=[i]);for(var l,u="",c=0;c<i.length;c++)for(var d=0;d<i[c].length;d++){0===d&&(u+='<div class="ipu-actions-modal-group">');var h=i[c][d],p=h.label?"ipu-actions-modal-label":"ipu-actions-modal-button";h.bold&&(p+=" ipu-actions-modal-button-bold"),h.color&&(p+=" ipu-color-"+h.color),h.bg&&(p+=" ipu-bg-"+h.bg),h.disabled&&(p+=" disabled"),u+='<span class="'+p+'">'+h.text+"</span>",d===i[c].length-1&&(u+="</div>")}l='<div class="ipu-actions-modal">'+u+"</div>",o.innerHTML=l,s=e(o).children(),e(n.modalContainer).append(s[0]),a=".ipu-actions-modal-group",r=".ipu-actions-modal-button";var m=s.find(a);return m.each(function(o,n){var a=o;e(n).children().each(function(o,n){var l,u=o,c=i[a][u];e(n).is(r)&&(l=e(n)),l&&l.on("click",function(e){c.close!==!1&&t.closeModal(s),c.onClick&&c.onClick(s,e)})})}),t.openModal(s),s[0]},t.toast=function(i,s,o){var n=e('<div class="ipu-modal ipu-toast '+(o||"")+'">'+i+"</div>").appendTo(document.body);t.openModal(n,function(){setTimeout(function(){t.closeModal(n)},s||2e3)})},t.openModal=function(i,s){i=e(i);var o=i.hasClass("ipu-modal"),a=!i.hasClass("ipu-toast");if(a=!1,e(".ipu-modal.ipu-modal-in:not(.ipu-modal-out)").length&&n.modalStack&&o&&a)return void t.modalStack.push(function(){t.openModal(i,s)});var r=i.hasClass("ipu-popup"),l=i.hasClass("ipu-login-screen"),u=i.hasClass("ipu-picker-modal"),c=i.hasClass("ipu-toast");o&&(i.show(),i.css({marginTop:-Math.round(i.outerHeight()/2)+"px"})),c&&i.css({marginLeft:-Math.round(i.outerWidth()/2)+"px"});var d;l||u||c||(0!==e(".ipu-modal-overlay").length||r||e(n.modalContainer).append('<div class="ipu-modal-overlay"></div>'),0===e(".ipu-popup-overlay").length&&r&&e(n.modalContainer).append('<div class="ipu-popup-overlay"></div>'),d=e(r?".ipu-popup-overlay":".ipu-modal-overlay"));i[0].clientLeft;return i.trigger("open"),u&&e(n.modalContainer).addClass("ipu-with-picker-modal"),l||u||c||d.addClass("ipu-modal-overlay-visible"),i.removeClass("ipu-modal-out").addClass("ipu-modal-in").transitionEnd(function(t){i.hasClass("ipu-modal-out")?i.trigger("closed"):i.trigger("opened")}),"function"==typeof s&&s.call(this),!0},t.closeModal=function(i){if(i=e(i||".ipu-modal-in"),"undefined"==typeof i||0!==i.length){var s=i.hasClass("ipu-modal"),o=i.hasClass("ipu-popup"),a=i.hasClass("ipu-toast"),r=i.hasClass("ipu-login-screen"),l=i.hasClass("ipu-picker-modal"),u=i.hasClass("ipu-remove-on-close"),c=e(o?".ipu-popup-overlay":".ipu-modal-overlay");return o?i.length===e(".ipu-popup.ipu-modal-in").length&&c.removeClass("ipu-modal-overlay-visible"):l||a||c.removeClass("ipu-modal-overlay-visible"),i.trigger("close"),l&&(e(n.modalContainer).removeClass("ipu-with-picker-modal"),e(n.modalContainer).addClass("ipu-picker-modal-closing")),i.removeClass("ipu-modal-in").addClass("ipu-modal-out").transitionEnd(function(t){i.hasClass("ipu-modal-out")?i.trigger("closed"):i.trigger("opened"),l&&e(n.modalContainer).removeClass("ipu-picker-modal-closing"),o||r||l?(i.removeClass("ipu-modal-out").hide(),u&&i.length>0&&i.remove()):i.remove()}),s&&n.modalStack&&t.modalStackClearQueue(),!0}},e(document).on("click"," .ipu-modal-overlay, .ipu-popup-overlay, .ipu-close-popup, .ipu-open-popup, .ipu-close-picker",s)}(o||window,t),function(t,e){function i(t,i){this.options=e.extend({},this.defaultOpt,i),this.content=e(this.options.contentSlt),this.nav=e(t),this.wrapper=e(">ul",this.content),this.contents=e(">li",this.wrapper),this.navs=e(">a",this.nav);var s=this,o=this.navs.filter(".ipu-current").index();o==-1&&(o=this.contents.filter(".ipu-current").index()),this.options.index=o!=-1?o:0,this.options.animate||this.wrapper.addClass("ipu-no-animation"),this.navs.each(function(t,i){e(this).click(function(){s.show(t)})}),this.lastIndex=null,this.currentIndex=null,s.show(this.options.index)}i.prototype.defaultOpt={animate:!1,contentSlt:".ipu-nav-content",callBack:function(t,e){}},i.prototype.show=function(t){if(this.currentIndex!=t){e(this.contents[t]).addClass("ipu-show");this.options.animate?(null!=this.lastIndex&&this.lastIndex!=t&&e(this.contents[this.lastIndex]).removeClass("ipu-show"),null!=this.currentIndex&&(this.currentIndex<t?null!=this.lastIndex&&this.lastIndex<this.currentIndex&&this.wrapper.addClass("ipu-no-animation").removeClass("ipu-nav-content-right").width():(null==this.lastIndex||this.lastIndex>this.currentIndex)&&this.wrapper.addClass("ipu-no-animation").addClass("ipu-nav-content-right").width(),this.wrapper.removeClass("ipu-no-animation").toggleClass("ipu-nav-content-right"))):e(this.contents[this.currentIndex]).removeClass("ipu-show"),e(this.contents[t]).addClass("ipu-current").siblings(".ipu-current").removeClass("ipu-current"),e(this.navs[t]).addClass("ipu-current").siblings(".ipu-current").removeClass("ipu-current"),this.lastIndex=this.currentIndex,this.currentIndex=t,this.options.callBack&&this.options.callBack(this.currentIndex,this.lastIndex)}},t.navBar=function(t,e){return new i(t,e)}}(o||window,t),function(t,e){function i(t,e){function i(t){if(t.target===this)for(e.call(this,t),s=0;s<o.length;s++)n.off(o[s],i)}var s,o=t,n=this;if(e)for(s=0;s<o.length;s++)n.on(o[s],i)}function s(t,e,i){var s=t.createElement("form");s.action=e,s.method="post",s.style.display="none";for(var o in i){var n=t.createElement("input");n.type="hidden",n.name=o,n.value=i[o],s.appendChild(n)}t.body.appendChild(s),s.submit()}function o(){r||(d=e(".ipu-pages"),0==d.size()&&(d=e("<div class='ipu-pages'><div class='ipu-page ipu-show "+f+"' id='"+c+"0'></div>").appendTo("body")),r=!0)}function n(t){return e(t).hasClass(f)}e.fn.animationEnd=function(t){return i.call(this,["webkitAnimationEnd","animationend"],t),this};var a={},r=!1,l={},u=1,c="ipuPage-",d=null,h="ipu-anim ipu-slideRightIn",p="ipu-anim ipu-slideRightOut",m="ipuUIPageBack",f="ipu-page-zero",v="ipu-pages-zero";a.options={target:window.parent,backIndex:-1,closeIndex:-1,params:{},animate:!0,showLoading:!0,loadingMessage:"正在加载中",method:null,minMessageTime:500,callBack:function(){}},a.openPage=function(i,a){function r(){a.showLoading&&t.hidePreloader(),a.animate&&g.removeClass(h),p.siblings(".ipu-show").removeClass("ipu-show"),a.callBack&&a.callBack()}var p=null,m=c+u++;l[m]=i,o(),a.showLoading&&t.showPreloader(a.loadingMessage,a.minMessageTime),p=e("post"==a.method?"<div class='ipu-page' id='"+m+"'><iframe class='ipu-page-iframe'></iframe></div>":"<div class='ipu-page' id='"+m+"'><iframe class='ipu-page-iframe' src='"+i+"'></iframe></div>");var f=n(e(".ipu-page:last",d)),g=p;if(f&&(g=d.addClass(v)),e(".ipu-page-iframe",p).one("load",function(){p.addClass("ipu-show").width(),f&&g.removeClass(v),a.animate?g.addClass(h).animationEnd(r):r()}),p.appendTo(d),"post"==a.method){var b=e(".ipu-page-iframe",p)[0].contentDocument;s(b,i,a.params)}},a.postPage=function(t,e){e.method="post",a.openPage(t,e)},a.backPage=function(t){function i(){e(this).removeClass(p),o.nextAll(".ipu-page").remove();var i,s=e(".ipu-page-iframe",o);i=0==s.size()?window.document:s[0].contentDocument,u&&d.addClass(v);var n=i.createEvent("Event");n.initEvent(m,!0,!0),t.data&&(n.data=t.data),i.body.dispatchEvent(n),t.callBack&&t.callBack()}var s=t.backIndex,o=null,a=e(".ipu-page.ipu-show",d);if(0==s)o=e(".ipu-page:first",d);else{var r=a.prevAll(".ipu-page");o=e(s<0?r[-s-1]:r[r.size()-s])}var l=a,u=n(o);u?l=d:o.addClass("ipu-show"),t.animate?l.addClass(p).animationEnd(i):i()},a.closePage=function(t){var i=t.closeIndex,s=e(".ipu-page.ipu-show",d).prevAll(".ipu-page");i=i<0?-i-1:s.size()-i,e(s[i]).remove(),t.callBack&&t.callBack()},a.open=function(t,i){i=e.extend({},this.options,i),i.target.ipu.page.openPage(t,i)},a.post=function(t,i){i=e.extend({},this.options,i),i.method="post",i.target.ipu.page.openPage(t,i)},a.back=function(t){t=e.extend({},this.options,t),t.target.ipu.page.backPage(t)},a.backHome=function(t){t=t||{},t.backIndex=0,a.back(t)},a.close=function(t){t=e.extend({},this.options,t),t.target.ipu.page.closePage(t)},a.onBack=function(t){e("body").on(m,function(e){var i=e.originalEvent.data;t(i)})},t.page=a}(o||window,t),function(t,e,i){function s(t,i){this.el=e(t)[0],this.options=e.extend({},this.defaultOptions,i),this._init()}var o=9,n=90,a=180/o,r=a;s.prototype.defaultOptions={onChange:function(){},listen:!0,data:[]},s.prototype._init=function(){var s=this;this.wrap=e(">ul",this.el),this.index=null,this.listen=!!this.options.listen,this.beginAngle=0,this.beginExceed=this.beginAngle-r,this.stopInertiaMove=!1,this.lastAngle=null,this.empty=0==this.options.data.length,t.device.ios&&this.wrap.css("transform-origin","center center "+n+"px"),this.hammer=new i.Manager(this.el),this.hammer.add(new i.Pan({direction:i.DIRECTION_VERTICAL,threshold:5})),this.hammer.add(new i.Press({threshold:4})),this.hammer.on("panstart panmove panend pancancel",i.bindFn(this._onPan,this)),this.hammer.on("press pressup",function(t){this.empty||(s.stopInertiaMove=!0,"pressup"==t.type&&s.endScroll())}),this.setItems(this.options.data)},s.prototype.setItems=function(t,i){this.wrap.empty(),this.data=t=t||[],this.empty=0==t.length,this.newData=!0;var s=this,o="";i=i||"text";for(var l=0,u=t.length;l<u;l++)o=o+"<li>"+t[l][i]+"</li>";e(o).appendTo(this.wrap),this.items=e(">li",this.wrap),this.itemsSize=this.items.size(),this.endAngle=(this.empty?0:this.itemsSize-1)*a,this.endExceed=this.endAngle+r,this.items.each(function(t){e(this).css({transform:"translateZ("+n+"px) rotateX(-"+t*a+"deg)","transform-origin":"center center -"+n+"px"}),e(this).click(function(){s.stopInertiaMove=!0,s.setAngle(t*a,!0)})});var c;c=this.empty||null==this.index?0:this.index>this.itemsSize-1?(this.itemsSize-1)*a:this.index*a,this.setAngle(c,!0)},s.prototype._onPan=function(t){if(!this.empty)if("panstart"==t.type)self.stopInertiaMove=!0,this.lastAngle=this.angle,this.wrap.addClass("ipu-noanimate"),this.stopInertiaMove=!0;else if("panmove"==t.type){var e=this.calcAngle(t.deltaY),i=this.lastAngle-e;i<this.beginExceed&&(i=this.beginExceed),i>this.endExceed&&(i=this.endExceed),this.setAngle(i)}else{var s=t.overallVelocityY,o=s>0?-1:1,n=6e-4*o*-1,a=Math.abs(s/n),r=s*a/2,l=this.angle,u=-this.calcAngle(r),c=u;if(l+u<this.beginExceed&&(u=this.beginExceed-l,a=a*(u/c)*.6),l+u>this.endExceed&&(u=this.endExceed-l,a=a*(u/c)*.6),0==u)return void this.endScroll();this.scrollDistAngle(l,u,a)}};var l=360/(2*n*Math.PI);s.prototype.calcAngle=function(t){return t*l},s.prototype.setAngle=function(t,e){if(this.angle=t,this.wrap.css("transform","perspective(1000px) rotateY(0deg) rotateX("+t+"deg)"),this.calcItemVisable(t),e){var i=t/a,s=this.index;this.index=this.empty?null:i,(s!=i||this.newData)&&(this.newData=!1,this.options.onChange&&this.listen&&this.options.onChange(this.getSelectedItem(),this.index,s,this.newData))}},s.prototype.calcItemVisable=function(t){this.items.each(function(i){var s=Math.abs(i*a-t);s<a/2?e(this).addClass("ipu-highlight ipu-visible"):s>=90-a/2?e(this).removeClass("ipu-highlight ipu-visible"):e(this).addClass("ipu-visible").removeClass("ipu-highlight")})},s.prototype.endScroll=function(){this.wrap.removeClass("ipu-noanimate");var t;if(this.angle<this.beginAngle)t=this.beginAngle;else if(this.angle>this.endAngle)t=this.endAngle;else{var e=parseInt((this.angle/a).toFixed(0));t=a*e}this.setAngle(t,!0)},s.prototype.scrollDistAngle=function(t,e,i){var s=this,o=(new Date).getTime();this.stopInertiaMove=!1,i=1*i,function(t,e,i,o){var n=13,a=o/n,r=0;!function l(){if(!s.stopInertiaMove){var t=s.quartEaseOut(r,e,i,a);return s.setAngle(t),r++,r>a-1||t<s.beginExceed||t>s.endExceed?void s.endScroll():void setTimeout(l,n)}}()}(o,t,e,i)},s.prototype.setListen=function(t){this.listen=!!t},s.prototype.quartEaseOut=function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},s.prototype.setSelectedValue=function(t){var e=this;for(var i in e.data){var s=e.data[i];if(s.value==t)return void e.setAngle(i*a,!0)}},s.prototype.getSelectedItem=function(){return this.empty?{}:this.data[this.index]},s.prototype.getSelectedValue=function(){
return this.getSelectedItem().value},s.prototype.getSelectedText=function(){return this.getSelectedItem().text},s.prototype.getSelectedIndex=function(){return this.index},t.Picker=s}(o||window,t,i),function(t,e){function i(i){this.options=e.extend({},this.defaultOptions,i),s||(s=t.Picker),this._init()}var s=t.Picker;i.prototype.defaultOptions={template:'<div class="ipu-poppicker">                        <div class="ipu-poppicker-header">                            <button class="ipu-btn ipu-btn-s ipu-poppicker-btn-cancel">取消</button>                            <button class="ipu-btn ipu-btn-s ipu-poppicker-btn-ok">确定</button>                        </div>                        <div class="ipu-poppicker-body">                        </div>                    </div>',pickerTemplate:'<div class="ipu-picker">                            <div class="ipu-picker-selectbox"></div>                            <ul></ul>                          </div>',data:[],layer:1,btns:["取消","确认"],callBack:function(){}},i.prototype._init=function(){this.holder=e(this.options.template).appendTo("body");var t=e(".ipu-poppicker-body",this.holder),i=this.options.layer,o=100/i+"%";this.pickers=new Array(i);var n,a=this;this.mask=this.createMask();for(var r=i-1;r>=0;r--)n=e(this.options.pickerTemplate).prependTo(t).css({width:o}),this.pickers[r]=new s(n,{onChange:function(t){return function(e,s){t!=i-1&&a.pickers[t+1].setItems(e.data)}}(r)});e(".ipu-poppicker-btn-ok",this.holder).click(function(){var t=a.getSelectItems();a.options.callBack(t)!==!1&&a.hide()}).text(this.options.btns[1]),e(".ipu-poppicker-btn-cancel",this.holder).click(function(){a.hide()}).text(this.options.btns[0])},i.prototype.setData=function(t){this.pickers[0].setItems(t)},i.prototype.show=function(t){t&&(this.options.callBack=t),this.mask.show(),this.holder.addClass("ipu-current")},i.prototype.hide=function(){this.mask.close(),this.holder.removeClass("ipu-current")},i.prototype.getSelectItems=function(){if(1==this.options.layer)return this.pickers[0].getSelectedItem();for(var t=[],e=0;e<this.options.layer;e++)t.push(this.pickers[e].getSelectedItem());return t},i.prototype.createMask=function(t){var e=this,i=document.createElement("div");i.classList.add("ipu-picker-backup"),i.addEventListener("click",function(){e.hide()});var s=[i];return s._show=!1,s.show=function(){return s._show=!0,i.setAttribute("style","opacity:1"),document.body.appendChild(i),s},s._remove=function(){return s._show&&(s._show=!1,i.setAttribute("style","opacity:0"),setTimeout(function(){var t=document.body;i.parentNode===t&&t.removeChild(i)},350)),s},s.close=function(){s._show&&(t?t()!==!1&&s._remove():s._remove())},s},t.popPicker=function(t){return new i(t)}}(o||window,t),function(t,e){function i(t,i){this.id=t,this.level=i.level,this.progress=i.progress,this.progressBar=e(t).eq(0),null!=i.progress&&this.setProgress(this.progress),null!=i.level&&this.setLevel(this.level)}i.prototype.setProgress=function(t){t<0||t>100||(e(this.progressBar.find(".ipu-progressbar")).css("transform","translate3d("+-(100-t)+"%, 0px, 0px)"),this.progress=t)},i.prototype.getProgress=function(){return this.progress},i.prototype.setLevel=function(t){"default"==t?(e(this.progressBar).removeClass("ipu-progressbar-success ipu-progressbar-hightlight ipu-progressbar-warning"),e(this.progressBar).addClass("ipu-progress")):"success"==t?(e(this.progressBar).removeClass("ipu-progressbar-highlight ipu-progressbar-warning"),e(this.progressBar).addClass("ipu-progressbar-success")):"highlight"==t?(e(this.progressBar).removeClass("ipu-progressbar-success ipu-progressbar-warning"),e(this.progressBar).addClass("ipu-progressbar-highlight")):"warning"==t&&(e(this.progressBar).removeClass("ipu-progressbar-success ipu-progressbar-highlight"),e(this.progressBar).addClass("ipu-progressbar-warning"))},t.progressBar=function(t,e){return new i(t,e)}}(o||window,t),function(t,e,i){function s(t,s){this.options=e.extend({},this.defaultOptions,s),this.el=e(t).get(0),this._initBottomAndTop();var o=this;this.iScrollOptions={onScrollMove:function(t){o.topEnable&&!o.topLoading&&(this.y>=o.topPullOffset&&!o.topEl.hasClass("ipu-refresh-toload")?o.topEl.addClass("ipu-refresh-toload"):this.y<o.topPullOffset&&o.topEl.hasClass("ipu-refresh-toload")&&o.topEl.removeClass("ipu-refresh-toload")),o._checkBottomLoading(),o.goTop=this.y>o.topPullOffset},onBeforeScrollEnd:function(){o._checkTopLoading(),o._checkBottomLoading()},onScrollEnd:function(){o.topLoading&&this.y<this.minScrollY&&o.goTop&&o.iScroll.scrollTo(0,this.minScrollY,0),o._checkBottomLoading()},onRefresh:function(){o.topLoading&&(this.minScrollY=this.minScrollY+o.topPullOffset)}},this.iScrollOptions=e.extend({},this.options.iScrollOptions,this.iScrollOptions),this.iScroll=new i(this.el,this.iScrollOptions),this._checkContentLoading()}s.prototype.defaultOptions={bottomLoadFun:null,topLoadFun:null,initEnableTop:!0,initEnableBottom:!0,bottomLoadHtml:'<div class="ipu-refresh-bottom"><span class="ipu-refresh-loading"></span></div>',topLoadHtml:'<div class="ipu-refresh-top"><span class="ipu-refresh-loading"></span><div class="ipu-refresh-arrow"></div></div>',bottomAddLen:0,iScrollOptions:{}},s.prototype._initBottomAndTop=function(){this.scrollEl=e(">.ipu-refresh-wrapper",this.el),this.bottomEl=e(this.options.bottomLoadHtml).appendTo(this.scrollEl),this.topEl=e(this.options.topLoadHtml).prependTo(this.scrollEl),this.topPullOffset=this.topEl.outerHeight(),this.bottomPullOffset=this.bottomEl.outerHeight()+this.options.bottomAddLen,this.topLoading=!1,this.bottomLoading=!1,this.bottomEnable=this.options.initEnableBottom&&!!this.options.bottomLoadFun,this.topEnable=this.options.initEnableTop&&!!this.options.topLoadFun,this.goTop=!1,this.enableBottom(this.bottomEnable),this.enableTop(this.topEnable)},s.prototype._checkBottomLoading=function(){this.bottomEnable&&!this.bottomLoading&&this.iScroll.y<this.iScroll.maxScrollY+this.bottomPullOffset&&this._startBottomLoading()},s.prototype._checkTopLoading=function(){this.topEnable&&!this.topLoading&&this.topEl.hasClass("ipu-refresh-toload")&&this._startTopLoading()},s.prototype._checkContentLoading=function(){this.iScroll.maxScrollY>=-this.bottomPullOffset&&this._startBottomLoading()},s.prototype._startBottomLoading=function(){this.bottomEnable&&!this.bottomLoading&&(this.bottomLoading=!0,this.options.bottomLoadFun())},s.prototype._startTopLoading=function(){this.topEnable&&!this.topLoading&&(this.topLoading=!0,this.topEl.removeClass("ipu-refresh-toload").addClass("ipu-refresh-top-loading"),this.iScroll.minScrollY=this.iScroll.minScrollY+this.topPullOffset,this.options.topLoadFun())},s.prototype.endBottomLoading=function(){this.bottomLoading=!1,this.refresh()},s.prototype.endTopLoading=function(){this.topEl.removeClass("ipu-refresh-top-loading"),this.topLoading=!1,this.refresh()},s.prototype.enableTop=function(t){this.topEnable=t,t?this.topEl.show():this.topEl.hide()},s.prototype.enableBottom=function(t){this.bottomEnable=t,t?this.bottomEl.show():this.bottomEl.hide()},s.prototype.refresh=function(){this.iScroll.refresh(),this._checkContentLoading()},t.refresh=function(t,e){return new s(t,e)}}(o||window,t,e),function(t,e){function i(t,i){this.el=e(t).get(0),this.titleItems=e(".ipu-tab-title:first>li",this.el),this.bodyWrapper=e(".ipu-tab-body-wrapper:first",this.el),this.contentItems=e(">li",this.bodyWrapper),this.options=e.extend({},this.defaultOptions,i),this.itemSize=this.contentItems.size(),this.fixed=e(this.el).is(".ipu-tab-fixed");var s=this;this.titleItems.each(function(t){e(this).click(function(){s.show(t)})});var o=this.titleItems.filter(".ipu-current").index();o==-1&&(o=0),this.show(o)}i.prototype.defaultOptions={callBack:null},i.prototype.show=function(t){if(this.fixed){var e=100*-t+"%";this.bodyWrapper.css("transform","translate3d("+e+", 0, 0)")}this.contentItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this.titleItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this._end(t)},i.prototype._end=function(t){this.lastIndex=this.currentIndex,this.currentIndex=t,this.options.callBack&&this.options.callBack(t,this.lastIndex)},t.tab=function(t,e){return new i(t,e)}}(o||window,t),function(t,e){function i(t){return t.originalEvent||t}function s(t){var e=t.touches?t.touches[0].pageX:t.clientX,i=t.touches?t.touches[0].pageY:t.clientY;return[e,i]}var o={},n=defaultOptions={distanceAllow:10,displayDelay:100,hideDelay:120,eventName:"click",activeClass:"ipu-active",getHandleNode:function(t){function i(t){var i=(e._data||e.data)(t,"events");if(i&&(i=i[n.eventName]),i){var a=!1;return e.each(i,function(i,n){if(n.selector){var r=e(n.selector,t);if(e.each(o,function(t,e){if(r.is(e))return s=e,!1}),s)return!1}else a=!0}),a&&null==s&&(s=t),s}}if(t&&t.nodeType){for(var s=null,o=[];!("tagName"in t&&i(t))&&t.parentNode&&1==t.parentNode.nodeType;)o.push(t),t=t.parentNode;return s}}},a="ontouchstart"in window,r=a?"touchstart":"mousedown",l=a?"touchmove":"mousemove",u=a?"touchend":"mouseup",c=a?"touchcancel":"";e(function(){function t(t,i){i&&h?window.clearTimeout(h):e(t).removeClass(n.activeClass)}function o(e){e?t(d,e):window.setTimeout(t,n.hideDelay,d,e),a=null,d=null}var a,d,h,p=document.body;e(p).bind(r,function(t){return d?void o(!0):(t=i(t),a=s(t),d=n.getHandleNode(t.target),void(d&&(h=window.setTimeout(function(t){h=null,e(t).addClass(n.activeClass)},n.displayDelay,d))))}),e(p).bind(l,function(t){if(d){t=i(t);var e=s(t);a&&(Math.abs(e[0]-a[0])>n.distanceAllow||Math.abs(e[1]-a[1])>n.distanceAllow)&&o(!0)}}),e(p).bind(u,function(t){d&&o()}),c&&e(p).bind(c,function(t){d&&o()})}),o.setOptions=function(t){n=this.options=e.extend({},defaultOptions,t)},t.active=o}(o||window,t),function(t,e){"use strict";var i={},s=[],o=navigator.userAgent;if(o.match(/ipumobile/i))i.ios=!!o.match(/ios/i),i.android=!!o.match(/android/i);else{var n=o.match(/(Android);?[\s\/]+([\d.]+)?/),a=o.match(/(iPad).*OS\s([\d_]+)/),r=o.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&o.match(/(iPhone\sOS)\s([\d_]+)/);if(i.ios=i.android=i.iphone=i.ipad=i.androidChrome=!1,n&&(i.os="android",i.osVersion=n[2],i.android=!0,i.androidChrome=o.toLowerCase().indexOf("chrome")>=0),(a||l||r)&&(i.os="ios",i.ios=!0),l&&!r&&(i.osVersion=l[2].replace(/_/g,"."),i.iphone=!0),a&&(i.osVersion=a[2].replace(/_/g,"."),i.ipad=!0),r&&(i.osVersion=r[3]?r[3].replace(/_/g,"."):null,i.iphone=!0),i.ios&&i.osVersion&&o.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=o.toLowerCase().split("version/")[1].split(" ")[0]),i.webView=(l||a||r)&&o.match(/.*AppleWebKit(?!.*Safari)/i),i.os&&"ios"===i.os){var u=i.osVersion.split(".");i.minimalUi=!i.webView&&(r||l)&&(1*u[0]===7?1*u[1]>=1:1*u[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=e(window).width(),d=e(window).height();if(i.statusBar=!1,i.webView&&c*d===screen.width*screen.height?i.statusBar=!0:i.statusBar=!1,i.pixelRatio=window.devicePixelRatio||1,s.push("pixel-ratio-"+Math.floor(i.pixelRatio)),i.pixelRatio>=2&&s.push("retina"),i.os&&(s.push(i.os,i.os+"-"+i.osVersion.split(".")[0],i.os+"-"+i.osVersion.replace(/\./g,"-")),"ios"===i.os))for(var h=parseInt(i.osVersion.split(".")[0],10),p=h-1;p>=6;p--)s.push("ios-gt-"+p);i.statusBar?s.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),i.isWeixin=/MicroMessenger/i.test(o)}s.length>0&&e("html").addClass(s.join(" ")),t.device=i}(o||window,t),t(function(){s.attach(document.body)}),o}"function"==typeof define&&define.amd?define(["jquery","iScroll","Hammer","FastClick"],function(e,i,s,o){return window.ipu=t(e,i,s,o)}):window.ipu=t(window.jQuery,window.iScroll,window.Hammer,window.FastClick)}();
//# sourceMappingURL=ipu.min.js.map
